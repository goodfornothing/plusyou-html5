<!DOCTYPE html> 
<html> 
  <head> 
  <title>+U Mobile</title> 
  <meta name="viewport" content="width=device-width, initial-scale=1"> 
  <link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0-rc.1/jquery.mobile-1.1.0-rc.1.min.css" />
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="stylesheet" href="libs/jquery.ui.datepicker.css" />
  <script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?key=AIzaSyBldGW_ZqvaIfJdqOf4UCEDh0VUWK-rFlU&sensor=true">
    </script>
  <script>

    var map;
    var markersArray = [];

    function addMarker(location) {
      marker = new google.maps.Marker({
        position: location,
        map: map
      });
      markersArray.push(marker);
    }

    // Removes the overlays from the map, but keeps them in the array
    function clearOverlays() {
      if (markersArray) {
        for (i in markersArray) {
          markersArray[i].setMap(null);
        }
      }
    }

    // Shows any overlays currently in the array
    function showOverlays() {
      if (markersArray) {
        for (i in markersArray) {
          markersArray[i].setMap(map);
        }
      }
    }

    // Deletes all markers in the array by removing references to them
    function deleteOverlays() {
      if (markersArray) {
        for (i in markersArray) {
          markersArray[i].setMap(null);
        }
        markersArray.length = 0;
      }
    }

    //reset type=date inputs to text
    $( document ).bind( "mobileinit", function(){
      $.mobile.page.prototype.options.degradeInputs.date = true;
    });

    // mapy stuff
    function loadMap() {

      var latitude = 50.9;
      var longitude = 0.4;
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(position) {
          latitude = position.coords.latitude;
          longitude = position.coords.longitude;
        });
      }
      var myOptions = {
        center: new google.maps.LatLng(latitude, longitude),
        zoom: 8,
        mapTypeId: google.maps.MapTypeId.ROADMAP
      };
      map = new google.maps.Map(document.getElementById("map"),
          myOptions);
    }
  </script>
  <script src="jquery.xml2json.js"></script>
  <script src="date.format.js"></script>
  <script src="gui.js"></script>
  <script src="search.js"></script>
  <script src="http://code.jquery.com/mobile/1.1.0-rc.1/jquery.mobile-1.1.0-rc.1.min.js"></script>
  <script src="libs/jquery.ui.datepicker.js"></script>
  <script src="libs/jquery.ui.datepicker.mobile.js"></script>
</head> 
<body onLoad="loadMap()"> 
  

  <div data-role="page" id="feeds" data-theme="d"> 

    <div data-role="header" data-theme="d" class="header"><img src="pics/logo.png" /> Plus you</div>

    <div data-role="navbar" class="nav-plusyou">
      <ul>
        <li><a href="#feeds" data-icon="home" data-theme="b" class="active">Feed</a></li>
        <li><a href="#search" data-icon="search" data-theme="b">Volunteer</a></li>
        <li><a href="#myevents" data-icon="star" data-theme="b">My Events</a></li>
        <li><a href="#awards" data-icon="grid" data-theme="b">Thanks</a></li>
      </ul>
    </div>
    <div data-role="content">
      My Feed
    </div>    
</div>

  <div data-role="page" id="search"> 

    <div data-role="header" data-theme="d" class="header"><img src="pics/logo.png" /> Plus you</div>

    <div data-role="navbar" class="nav-plusyou">
      <ul>
        <li><a href="#feeds" data-icon="home" data-theme="b">Feed</a></li>
        <li><a href="#search" data-icon="search" data-theme="b" class="active">Volunteer</a></li>
        <li><a href="#myevents" data-icon="star" data-theme="b">My Events</a></li>
        <li><a href="#awards" data-icon="grid" data-theme="b">Thanks</a></li>
      </ul>
    </div>
    <div data-role="content">

      <div class="search-options">
        <a data-inline="true" data-role="button" href="#" id="mapButton">Map</a>   
        <a data-inline="true" data-role="button" href="#" id="listButton">List</a>        
        <a data-inline="true" data-role="button" href="#options_dialog" data-theme="b" data-rel="dialog">Options</a>

      </div>
      <div id="map" class="map"></div>
      <ul data-role="listview" class="opportunities" data-filter="true"  data-filter-placeholder="Filter this list" id="results-list">
        <li>Loading...</li>
      </ul>
    </div>     
  </div>

  <div data-role="page" id="myevents"> 

    <div data-role="header" data-theme="d" class="header"><img src="pics/logo.png" /> Plus you</div>

    <div data-role="navbar" class="nav-plusyou">
      <ul>
        <li><a href="#feeds" data-icon="home" data-theme="b">Feed</a></li>
        <li><a href="#search" data-icon="search" data-theme="b">Volunteer</a></li>
        <li><a href="#myevents" data-icon="star" data-theme="b" class="active">My Events</a></li>
        <li><a href="#awards" data-icon="grid" data-theme="b">Thanks</a></li>
      </ul>
    </div>
    <p>My Events</p>    
  </div>

  <div data-role="page" id="awards"> 

    <div data-role="header" data-theme="d" class="header"><img src="pics/logo.png" /> Plus you</div>

    <div data-role="navbar" class="nav-plusyou">
      <ul>
        <li><a href="#feeds" data-icon="home" data-theme="b">Feed</a></li>
        <li><a href="#search" data-icon="search" data-theme="b">Volunteer</a></li>
        <li><a href="#myevents" data-icon="star" data-theme="b">My Events</a></li>
        <li><a href="#awards" data-icon="grid" data-theme="b" class="active">Thanks</a></li>
      </ul>
    </div>
    <p>Thanks</p>    
  </div>

    <div data-role="page" id="options_dialog" >
    <div data-role="header" data-theme="b">
      <h1>Options</h1>

    </div>

    <div data-role="content" data-theme="c">
      <form action="#" method="get">
        <div data-role="fieldcontain" class="event-type">
        <select name="event-type" id="event-type">
          <option value="All Kind of Events">All Kind of Events</option>
          <option value="Art and Culture">Art and Culture</option>
          <option value="Comunity Services">Comunity Services</option>
          <option value="Disability">Disability</option>
          <option value="Education and Literacy">Education and Literacy</option>
          <option value="Elderly">Elderly</option>
          <option value="Environment">Environment</option>
          <option value="Music">Music</option>
          <option value="Politics">Politics</option>
          <option value="Sports and Outdoor Activities">Sports and Outdoor Activities</option>
        </select>
      </div>
      <div id="fromDateContainer" date-role="fieldcontain">
        <label for="fromDate">From:</label>
        <input type="date" name="fromDate" id="fromDate" value=""  /> 
      </div>
      <div id="untilDateContainer" date-role="fieldcontain">
        <label for="untilDate">Until:</label>
        <input type="date" name="untilDate" id="untilDate" value=""  /> 
      </div>
      <div data-role="fieldcontain" class="distance-limit">
        <select name="distance-limit" id="distance-limit" data-inline="true" >
          <option value="1">Up to 1 km away</option>
          <option value="2">Up to 2 km away</option>
          <option value="5">Up to 5 km away</option>
          <option value="10">Up to 10 km away</option>
          <option value="25">Up to 25 km away</option>
          <option value="50">Up to 50 km away</option>
          <option value="100">Up to 100 km away</option>
        </select>
      </div>

      <p>Your current loaction is #pending#</p>
      <div date-role="fieldcontain" id="bottom-buttons">
        <input type="submit" data-theme="b"  value="Search">
        <a data-role="button" href="#" data-rel="back">Cancel</a>        
      </div>  
      </form> 
    </div>
  </div>

</body>
</html>
